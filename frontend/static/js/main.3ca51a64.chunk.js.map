{"version":3,"sources":["images/logo/Vector.svg","components/Header.js","images/logo/pen.svg","images/logo/plus.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/logo/close.svg","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/ControlledInputForForm.js","components/EditProfilePopup.js","components/UncontrolledInputForForm.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","utils/apiAuth.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/App.js","images/success.png","images/disaster.png","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logoVector","alt","exit","email","entrance","register","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","cardDeleteButtonClassName","owner","_id","cardLikeButtonClassName","likes","some","item","type","onClick","link","name","length","Main","arrCards","cards","map","id","onSelectedCard","key","onEditAvatar","avatar","onEditProfile","pictureProfileEdit","about","onAddPlace","pictureAddCard","Footer","Date","getFullYear","PopupWithForm","isOpen","logoClose","onClose","title","onSubmit","children","buttonText","ImagePopup","api","baseUrl","authorization","userId","this","_url","_token","_userId","fetch","headers","then","_checkResponse","data","method","body","JSON","stringify","firstname","profession","liked","res","ok","json","Promise","reject","ControlledInputForForm","value","onChange","onHandleChange","placeholder","minLength","maxLength","required","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","target","UncontrolledInputForForm","forwardRef","ref","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","hidden","AddPlacePopup","place","setPlace","address","setAddress","Login","setEmail","password","setPassword","onLogin","Register","onRegister","BaseUrl","checkResponse","console","log","ProtectedRoute","Component","component","loggedIn","to","InfoTooltip","App","isLoggedIn","setIsLoggedIn","handleIsLoggedIn","history","useHistory","dataUserForHomePage","setDataUserForHomePage","tokenCheck","localStorage","getItem","token","apiAuth","push","catch","err","setCurrentUser","getInfoAboutUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isSuccessInfoRegister","setIsSuccessInfoRegister","isDisasterInfoRegister","setIsDisasterInfoRegister","selectedCard","setSelectedCard","closeAllPopups","closeOnEscape","document","addEventListener","removeEventListener","setCards","getInitialCards","Provider","path","removeItem","setItem","isLiked","i","updateLikes","newCard","state","c","deleteCard","filter","j","exact","dataPopup","editAvatar","editUserProfile","sentNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wNAAe,MAA0B,mC,OCgCtBA,MA5BnB,SAAgBC,GASZ,OACI,yBAAQC,UAAU,SAAlB,UACI,qBAAKA,UAAU,OAAOC,IAAKC,EAAYC,IAAI,8EAC3C,sBAAKH,UAAU,oBAAf,UAEKD,EAAMK,KACNL,EAAMM,MACNN,EAAMO,SACNP,EAAMQ,gB,OCrBR,MAA0B,gCCA1B,MAA0B,iCCG5BC,EAAqBC,IAAMC,gBCyCzBC,MAzCX,YAA8D,IAA/CC,EAA8C,EAA9CA,KAAMC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,aAEpCC,EAAcP,IAAMQ,WAAWT,GAE/BU,EADQN,EAAKO,MAAMC,MAAQJ,EAAYI,IACF,eAAiB,uBAEtDC,EADUT,EAAKU,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKJ,MAAQJ,EAAYI,OACtB,uBAAyB,gBAgBxE,OACQ,0BAASpB,UAAU,UAAnB,UACI,wBAAQA,UAAWkB,EAA2BO,KAAK,SAASC,QANtE,WACEX,EAAaH,IAKL,SACI,qBAAKZ,UAAU,0BAEnB,qBAAKA,UAAU,iBAAiBC,IAAKW,EAAKe,KAAMxB,IAAKS,EAAKgB,KAAMF,QAb5E,WACIb,EAAYD,MAaJ,sBAAKZ,UAAU,gBAAf,UACI,oBAAIA,UAAU,iBAAd,SAAgCY,EAAKgB,OACrC,qBAAK5B,UAAU,qBAAf,SACI,yBAAQA,UAAU,kBAAkByB,KAAK,SAASC,QAtBlE,WACIZ,EAAWF,IAqBC,UACI,qBAAKZ,UAAWqB,IAChB,mBAAGrB,UAAU,mBAAb,SAAiCY,EAAKU,MAAMO,qBCKzDC,MAlCf,SAAc/B,GAEZ,IAAMiB,EAAcP,IAAMQ,WAAWT,GAE/BuB,EADQhC,EAAMiC,MACGC,KAAI,SAACrB,GAC1B,OACA,cAAC,EAAD,CAAqBsB,GAAItB,EAAKsB,GAAItB,KAAMA,EAAMC,YAAad,EAAMoC,eAAgBrB,WAAYf,EAAMe,WAAYC,aAAchB,EAAMgB,cAAxHH,EAAKwB,QAIhB,OACI,iCACA,sBAAKpC,UAAU,UAAf,UACM,wBAAQA,UAAU,gBAAgByB,KAAK,SAASC,QAAS3B,EAAMsC,aAA/D,SACE,qBAAMrC,UAAU,kBAAkBC,IAAKe,EAAYsB,OAASnC,IAAI,oHAEpE,sBAAKH,UAAU,gBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCgB,EAAYY,OAC5C,wBAAQ5B,UAAU,cAAcyB,KAAK,SAASC,QAAS3B,EAAMwC,cAA7D,SACE,qBAAKvC,UAAU,gBAAgBC,IAAKuC,EAAqBrC,IAAI,gIAE/D,mBAAGH,UAAU,oBAAb,SAAkCgB,EAAYyB,WAEhD,wBAAQzC,UAAU,cAAcyB,KAAK,SAASC,QAAS3B,EAAM2C,WAA7D,SACE,qBAAK1C,UAAU,gBAAgBC,IAAK0C,EAAgBxC,IAAI,2GAG9D,qBAAKH,UAAU,WAAf,SACC+B,QCxBMa,MARf,WACI,OACI,wBAAQ5C,UAAU,SAAlB,SACA,oBAAGA,UAAU,oBAAb,mBAAoC,IAAI6C,MAAOC,cAA/C,sBCNO,MAA0B,kCCkB1BC,MAff,SAAuBhD,GACnB,OACI,qBAAKC,UAAWD,EAAMiD,OAAN,kCAA0CjD,EAAM6B,MAAS,QAAzE,SACF,sBAAK5B,UAAU,mBAAf,UACE,wBAAQA,UAAU,eAAeyB,KAAK,SAAtC,SAA+C,qBAAKzB,UAAU,eAAeC,IAAKgD,EAAW9C,IAAI,wFAAkBuB,QAAS3B,EAAMmD,YAClI,oBAAIlD,UAAU,eAAd,SAA8BD,EAAMoD,QACpC,uBAAMC,SAAUrD,EAAMqD,SAAUpD,UAAU,OAAO4B,KAAI,UAAK7B,EAAM6B,MAAhE,UACG7B,EAAMsD,SACP,wBAAQrD,UAAU,eAAeyB,KAAK,SAAtC,SAAgD1B,EAAMuD,sBCKjDC,MAdf,YAAkD,IAA7B3C,EAA4B,EAA5BA,KAAMe,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,KAAMsB,EAAU,EAAVA,QAEnC,OACI,qBAAKlD,UAAWY,EAAO,gCAAkC,QAAzD,SACF,sBAAKZ,UAAU,aAAf,UACE,wBAAQA,UAAU,kCAAkCyB,KAAK,SAASC,QAASwB,EAA3E,SAAoF,qBAAKlD,UAAU,eAAeC,IAAKgD,EACnH9C,IAAI,sFACR,qBAAKH,UAAU,oBAAoBC,IAAK0B,EAAMxB,IAAKyB,IACnD,oBAAI5B,UAAU,oBAAd,SAAmC4B,U,gBCmG5B4B,EANH,I,WApGR,cAA+C,IAAlCC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,cAAeC,EAAS,EAATA,OAAS,oBAC1CC,KAAKC,KAAOJ,EACZG,KAAKE,OAASJ,EACdE,KAAKG,QAAUJ,E,oDAKnB,WACI,OAAOK,MAAM,GAAD,OAAIJ,KAAKC,KAAT,eAAoBD,KAAKG,QAAzB,aAA6C,CACrDE,QAAS,CACLP,cAAeE,KAAKE,UAG3BI,KAAKN,KAAKO,kB,6BAGf,WACI,OAAOH,MAAM,GAAD,OAAIJ,KAAKC,KAAT,eAAoBD,KAAKG,QAAzB,UAA0C,CAClDE,QAAS,CACLP,cAAeE,KAAKE,UAGvBI,KAAKN,KAAKO,kB,6BAGnB,SAAgBC,GACZ,OAAOJ,MAAM,GAAD,OAAIJ,KAAKC,KAAT,eAAoBD,KAAKG,QAAzB,aAA6C,CACrDM,OAAQ,QACRJ,QAAS,CACLP,cAAeE,KAAKE,OACpB,eAAgB,oBAEpBQ,KAAMC,KAAKC,UAAU,CACjB5C,KAAMwC,EAAKK,UACXhC,MAAO2B,EAAKM,eAGnBR,KAAKN,KAAKO,kB,yBAIf,SAAYC,GACR,OAAOJ,MAAM,GAAD,OAAIJ,KAAKC,KAAT,eAAoBD,KAAKG,QAAzB,UAA0C,CAClDM,OAAQ,OACRJ,QAAS,CACLP,cAAeE,KAAKE,OACpB,eAAgB,oBAEpBQ,KAAMC,KAAKC,UAAU,CACjB5C,KAAMwC,EAAKxC,KACXD,KAAMyC,EAAKzC,SAGlBuC,KAAKN,KAAKO,kB,wBAGf,SAAWC,GACP,OAAOJ,MAAM,GAAD,OAAIJ,KAAKC,KAAT,eAAoBD,KAAKG,QAAzB,oBAAoD,CAC5DM,OAAQ,QACRJ,QAAS,CACLP,cAAeE,KAAKE,OACpB,eAAgB,oBAEpBQ,KAAMC,KAAKC,UAAU,CACjBlC,OAAQ8B,EAAK9B,WAGpB4B,KAAKN,KAAKO,kB,yBAGf,SAAYQ,EAAOzC,GACf,OAAO8B,MAAM,GAAD,OAAIJ,KAAKC,KAAT,eAAoBD,KAAKG,QAAzB,wBAAgD7B,GAAM,CAC9DmC,OAAQM,EAAQ,SAAW,MAC3BV,QAAS,CACLP,cAAeE,KAAKE,OACpB,eAAgB,oBAEpBQ,KAAMC,KAAKC,UAAU,CACjBpD,IAAKc,MAGZgC,KAAKN,KAAKO,kB,wBAGf,SAAWC,GACT,OAAOJ,MAAM,GAAD,OAAIJ,KAAKC,KAAT,eAAoBD,KAAKG,QAAzB,kBAA0CK,GAAQ,CAC5DC,OAAQ,SACRJ,QAAS,CACPP,cAAeE,KAAKE,UAGvBI,KAAKN,KAAKO,kB,4BAGb,SAAeS,GACX,OAAOA,EAAIC,GAAID,EAAIE,OAASC,QAAQC,OAAR,gDAA0BJ,Q,KAIlD,CAAQ,CAChBnB,QAAS,iDACTC,cAAe,uCACfC,OAAQ,cC7FGsB,MAVf,SAAgClF,GAE5B,OACI,qCACA,uBAAOmF,MAAOnF,EAAMmF,MAAOC,SAAUpF,EAAMqF,eAAgBlD,GAAE,UAAKnC,EAAM6B,KAAX,UAAyB5B,UAAS,wCAAmCD,EAAMC,WAAayB,KAAI,UAAK1B,EAAM0B,MAAQG,KAAI,UAAK7B,EAAM6B,MAAQyD,YAAW,UAAKtF,EAAMsF,aAAeC,UAAS,UAAKvF,EAAMuF,WAAaC,UAAS,UAAKxF,EAAMwF,WAAaC,UAAQ,IAClT,sBAAMxF,UAAS,4BAAuBD,EAAM6B,KAA7B,sBCoCR6D,MApCf,SAA0B1F,GAEtB,IAAMiB,EAAcP,IAAMQ,WAAWT,GACrC,EAAwBC,IAAMiF,SAAS,IAAvC,mBAAO9D,EAAP,KAAa+D,EAAb,KACA,EAAsClF,IAAMiF,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KAwBA,OAtBApF,IAAMqF,WAAU,WACdH,EAAQ3E,EAAYY,MACpBiE,EAAe7E,EAAYyB,SAC1B,CAACzB,EAAajB,EAAMiD,SAoBnB,eAAC,EAAD,CAAepB,KAAM,gBAAiBuB,MAAO,4HAAyBG,WAAY,yDAAaN,OAAQjD,EAAMiD,OAAQE,QAASnD,EAAMmD,QAASE,SATjJ,SAAsB2C,GAClBA,EAAEC,iBACFjG,EAAMkG,aAAa,CACfxB,UAAW7C,EACX8C,WAAYkB,KAKhB,UACE,cAAC,EAAD,CAAwBV,MAAOtD,EAAMwD,eAnB3C,SAA0BW,GAClBJ,EAAQI,EAAEG,OAAOhB,QAkBoDzD,KAAK,OAAOG,KAAK,YAAYyD,YAAY,qBAAMC,UAAU,IAAIC,UAAU,KAAKC,UAAQ,IAC3J,cAAC,EAAD,CAAwBN,MAAOU,EAAaR,eAhBlD,SAAiCW,GAC7BF,EAAeE,EAAEG,OAAOhB,QAe+DzD,KAAK,OAAOG,KAAK,aAAayD,YAAY,kCAASC,UAAU,IAAIC,UAAU,MAAMC,UAAQ,QCzBrKW,EAXkBC,sBAAY,SAACrG,EAAOsG,GAEjD,OACI,qCACA,uBAAOA,IAAKA,EAAKnE,GAAE,UAAKnC,EAAM6B,KAAX,UAAyB5B,UAAU,gCAAgCyB,KAAI,UAAK1B,EAAM0B,MAAQG,KAAI,UAAK7B,EAAM6B,MAAQyD,YAAW,UAAKtF,EAAMsF,aAAeC,UAAS,UAAKvF,EAAMuF,WAAaC,UAAS,UAAKxF,EAAMwF,WAAaC,UAAQ,IACnP,sBAAMxF,UAAS,4BAAuBD,EAAM6B,KAA7B,wBCgBZ0E,MAnBf,SAAyBvG,GAErB,IAAMwG,EAAY9F,IAAM+F,OAAO,MAU/B,OACI,cAAC,EAAD,CAAe5E,KAAM,uBAAwBuB,MAAO,wFAAmBG,WAAY,yDAAaN,OAAQjD,EAAMiD,OAAQE,QAASnD,EAAMmD,QAASE,SAT7H,SAAC2C,GAClBA,EAAEC,iBACFjG,EAAM0G,eAAe,CACnBnE,OAAQiE,EAAUG,QAAQxB,QAE5BqB,EAAUG,QAAQxB,MAAQ,IAI1B,SACI,cAAC,EAAD,CAA0BmB,IAAKE,EAAW9E,KAAK,MAAMG,KAAK,SAASyD,YAAY,qGAAqBC,UAAU,IAAIC,UAAU,MAAMoB,QAAQ,EAAMnB,UAAQ,OCqBrJoB,MAnCf,SAAuB7G,GAEnB,MAA0BU,IAAMiF,SAAS,IAAzC,mBAAOmB,EAAP,KAAcC,EAAd,KACA,EAA8BrG,IAAMiF,SAAS,IAA7C,mBAAOqB,EAAP,KAAgBC,EAAhB,KAwBA,OAtBAvG,IAAMqF,WAAU,WACZgB,EAAS,IACTE,EAAW,MACZ,CAACjH,EAAMiD,SAoBN,eAAC,EAAD,CAAepB,KAAM,aAAcuB,MAAO,gEAAeG,WAAY,6CAAWN,OAAQjD,EAAMiD,OAAQE,QAASnD,EAAMmD,QAASE,SAVlI,SAAsB2C,GAClBA,EAAEC,iBAEFjG,EAAM2C,WAAW,CAChBd,KAAMiF,EACNlF,KAAMoF,KAKP,UACA,cAAC,EAAD,CAAwB7B,MAAO2B,EAAOzB,eAnB1C,SAA2BW,GACvBe,EAASf,EAAEG,OAAOhB,QAkBuDzD,KAAK,OAAOG,KAAK,OAAOyD,YAAY,mDAAWC,UAAU,IAAIC,UAAU,KAAKC,UAAQ,IAC7J,cAAC,EAAD,CAAwBN,MAAO6B,EAAS3B,eAhB5C,SAA6BW,GACzBiB,EAAWjB,EAAEG,OAAOhB,QAeyDzD,KAAK,MAAMG,KAAK,OAAOyD,YAAY,qGAAqBG,UAAQ,QCGtIyB,EAlCD,SAAClH,GAEX,MAA0B2F,mBAAS,IAAnC,mBAAOrF,EAAP,KAAc6G,EAAd,KACA,EAAgCxB,mBAAS,IAAzC,mBAAOyB,EAAP,KAAiBC,EAAjB,KAiBA,OACI,qBAAKpH,UAAU,eAAf,SACI,sBAAKA,UAAU,2BAAf,UACI,oBAAIA,UAAU,sBAAd,sCACA,uBAAMA,UAAU,oBAAoBoD,SAX3B,SAAC2C,GAClBA,EAAEC,iBACFjG,EAAMsH,QAAQhH,EAAO8G,GACbD,EAAS,IACTE,EAAY,KAOZ,UACI,cAAC,EAAD,CAAwBlC,MAAO7E,EAAO+E,eApBrB,SAACW,GAC9BmB,EAASnB,EAAEG,OAAOhB,QAmB0ElF,UAAU,2BAA2B4B,KAAK,QAAQH,KAAK,OAAO4D,YAAY,UAC1J,cAAC,EAAD,CAAwBH,MAAOiC,EAAU/B,eAjBrB,SAACW,GACjCqB,EAAYrB,EAAEG,OAAOhB,QAgB6ElF,UAAU,2BAA2B4B,KAAK,WAAWH,KAAK,WAAW4D,YAAY,yCACvK,wBAAQrF,UAAU,qCAAqCyB,KAAK,SAA5D,qDCOL6F,EAlCE,SAACvH,GAEd,MAA0B2F,mBAAS,IAAnC,mBAAOrF,EAAP,KAAc6G,EAAd,KACA,EAAgCxB,mBAAS,IAAzC,mBAAOyB,EAAP,KAAiBC,EAAjB,KAiBA,OACI,qBAAKpH,UAAU,eAAf,SACI,sBAAKA,UAAU,2BAAf,UACI,oBAAIA,UAAU,sBAAd,gFACA,uBAAMA,UAAU,oBAAoBoD,SAX3B,SAAC2C,GAClBA,EAAEC,iBACFjG,EAAMwH,WAAWlH,EAAO8G,GAChBD,EAAS,IACTE,EAAY,KAOZ,UACI,cAAC,EAAD,CAAwBlC,MAAO7E,EAAO+E,eApBrB,SAACW,GAC9BmB,EAASnB,EAAEG,OAAOhB,QAmB0ElF,UAAU,2BAA2B4B,KAAK,QAAQH,KAAK,OAAO4D,YAAY,UAC1J,cAAC,EAAD,CAAwBH,MAAOiC,EAAU/B,eAjBrB,SAACW,GACjCqB,EAAYrB,EAAEG,OAAOhB,QAgB6ElF,UAAU,2BAA2B4B,KAAK,WAAWH,KAAK,WAAW4D,YAAY,yCACvK,wBAAQ5D,KAAK,SAASzB,UAAU,qCAAhC,0FC9BdwH,EAAU,yCAsCNC,EAAgB,SAAC7C,GACnB,OAAOA,EAAIC,GAAID,EAAIE,OAASC,QAAQC,OAAO0C,QAAQC,IAAI/C,K,wBCpClDgD,EAAiB,SAAC,GAAsC,IAA1BC,EAAyB,EAApCC,UAAyB/H,EAAW,iBAExD,OACI,cAAC,IAAD,UACK,kBAAMA,EAAMgI,SAAW,cAACF,EAAD,eAAe9H,IAAY,cAAC,IAAD,CAAUiI,GAAG,eCQrEC,EAbO,SAAClI,GAEX,OACI,qBAAKC,UAAWD,EAAMiD,OAAN,kCAA0CjD,EAAM6B,MAAS,QAAzE,SACI,sBAAK5B,UAAU,mBAAf,UACI,wBAAQA,UAAU,eAAeyB,KAAK,SAAtC,SAA+C,qBAAKzB,UAAU,eAAeC,IAAKgD,EAAW9C,IAAI,wFAAkBuB,QAAS3B,EAAMmD,YAClI,qBAAKlD,UAAU,sBAAsBC,IAAKF,EAAM4B,KAAMxB,IAAI,oIAC1D,oBAAIH,UAAU,8CAAd,SAA6DD,EAAMoD,cCanF,SAAS+E,IAEf,MAAoCzH,IAAMiF,UAAS,GAAnD,mBAAOyC,EAAP,KAAmBC,EAAnB,KACMC,EAAmB,WACvBD,GAAc,IAGVE,EAAUC,cAEhB,EAAsD9H,IAAMiF,SAAS,CAACxD,GAAG,GAAI7B,MAAM,KAAnF,mBAAOmI,EAAP,KAA4BC,EAA5B,KAEMC,EAAa,WACbC,aAAaC,QAAQ,QHPE,SAACC,GACxB,OAAO7E,MAAM,GAAD,OAAIwD,EAAJ,aAAwB,CAChCnD,OAAQ,MACRJ,QAAS,CACL,eAAgB,mBAChB,+BAA4B4E,MAGnC3E,KAAKuD,GGCRqB,CADcH,aAAaC,QAAQ,QAElC1E,MAAK,SAAAU,GACAA,IACFyD,IACAI,EAAuB,CACrBvG,GAAI0C,EAAIR,KAAKhD,IACbf,MAAOuE,EAAIR,KAAK/D,QAElBiI,EAAQS,KAAK,aAGhBC,OAAM,SAAAC,GAAG,OAAIvB,QAAQC,IAAIsB,OAI9BxI,IAAMqF,WAAU,WACd4C,MACC,CAACP,IAEJ,MAAsC1H,IAAMiF,SAAS,CAAC9D,KAAM,GAAIa,MAAO,KAAvE,mBAAOzB,EAAP,KAAoBkI,EAApB,KAEAzI,IAAMqF,WAAU,WACdtC,EAAI2F,mBACHjF,MAAK,SAACE,GACL8E,EAAe9E,MAEhB4E,OAAM,SAAApE,GAAG,OAAI8C,QAAQC,IAAI/C,QACzB,IAEH,MAA4DnE,IAAMiF,UAAS,GAA3E,mBAAO0D,EAAP,KAA+BC,EAA/B,KAKA,MAAsD5I,IAAMiF,UAAS,GAArE,mBAAO4D,EAAP,KAA4BC,EAA5B,KAKA,MAA0D9I,IAAMiF,UAAS,GAAzE,mBAAO8D,EAAP,KAA8BC,EAA9B,KAKA,MAA0DhJ,IAAMiF,UAAS,GAAzE,mBAAOgE,EAAP,KAA8BC,GAA9B,KAKA,OAA4DlJ,IAAMiF,UAAS,GAA3E,qBAAOkE,GAAP,MAA+BC,GAA/B,MA+BA,OAAwCpJ,IAAMiF,SAAS,MAAvD,qBAAOoE,GAAP,MAAqBC,GAArB,MAKA,SAASC,KACPX,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBM,GAAgB,MAChBJ,IAAyB,GACzBE,IAA0B,GAG5B/D,qBAAU,WACR,IAAMmE,EAAgB,SAAClE,GACP,WAAVA,EAAE3D,KACJ4H,MAKJ,OAFAE,SAASC,iBAAiB,UAAWF,GAE9B,WACLC,SAASE,oBAAoB,UAAWH,MAIzC,IAEH,OAA0BxJ,IAAMiF,SAAS,IAAzC,qBAAO1D,GAAP,MAAcqI,GAAd,MAGA5J,IAAMqF,WAAU,WACdtC,EAAI8G,kBACHpG,MAAK,SAACE,GACL,IAAMrC,EAAWqC,EAAKnC,KAAI,SAACrB,GACzB,MAAO,CACLwB,IAAKxB,EAAKQ,IACVc,GAAItB,EAAKQ,IACTQ,KAAMhB,EAAKgB,KACXD,KAAMf,EAAKe,KACXE,OAAQjB,EAAKU,MAAMO,OACnBV,MAAOP,EAAKO,MACZG,MAAOV,EAAKU,UAGhB+I,GAAStI,MAEViH,OAAM,SAAAC,GAAG,OAAIvB,QAAQC,IAAIsB,QACzB,IA8DD,OACE,qBAAKjJ,UAAU,OAAf,SACE,eAACQ,EAAmB+J,SAApB,CAA6BrF,MAAOlE,EAApC,UAEA,cAAC,IAAD,UACE,cAAC,IAAD,CAAOwJ,KAAK,QAAZ,SACE,cAAC,EAAD,CACEnK,MAAO,mBAAGL,UAAU,eAAb,SAA6BwI,EAAoBnI,QACxDD,KAAM,cAAC,IAAD,CAAMsB,QAfP,WACfiH,aAAa8B,WAAW,OACxBrC,GAAc,GACdE,EAAQS,KAAK,WAY4Bf,GAAG,SAAShI,UAAU,eAA/C,kDAIZ,eAAC,IAAD,WACA,eAAC,IAAD,CAAOwK,KAAK,SAAZ,UACE,cAAC,EAAD,CAAQjK,SAAU,cAAC,IAAD,CAAMyH,GAAG,YAAYhI,UAAU,eAA/B,kFAClB,cAAC,EAAD,CAAOqH,QA1If,SAAqBhH,EAAO8G,IH3FL,SAAC9G,EAAO8G,GACzB,OAAOnD,MAAM,GAAD,OAAIwD,EAAJ,WAAsB,CAC9BnD,OAAQ,OACRJ,QAAS,CACL,eAAgB,oBAEpBK,KAAMC,KAAKC,UAAU,CAACnE,QAAO8G,eAEhCjD,KAAKuD,GACLvD,MAAK,SAAAE,GACF,OAAOA,MGkFf0E,CAAczI,EAAO8G,GACpBjD,MAAK,SAACU,GACCA,IACA+D,aAAa+B,QAAQ,MAAO9F,EAAIiE,OAChCR,IACAC,EAAQS,KAAK,aAGpBC,OAAM,SAAAC,GAAG,OAAIvB,QAAQC,IAAIsB,OAiISlB,SAAUI,OAEzC,eAAC,IAAD,CAAOqC,KAAK,YAAZ,UACE,cAAC,EAAD,CAAQlK,SAAU,cAAC,IAAD,CAAM0H,GAAG,SAAShI,UAAU,eAA5B,8CAChB,cAAC,EAAD,CAAU+H,SAAUI,EAAYZ,WA5J1C,SAAwBlH,EAAO8G,IHxFN,SAAC9G,EAAO8G,GAC3B,OAAOnD,MAAM,GAAD,OAAIwD,EAAJ,WAAsB,CAC9BnD,OAAQ,OACRJ,QAAS,CACL,eAAgB,oBAEpBK,KAAMC,KAAKC,UAAU,CAACnE,QAAO8G,eAEhCjD,KAAKuD,IGiFNqB,CAAiBzI,EAAO8G,GACvBjD,MAAK,SAAAU,GACEA,IAXZ+E,IAAyB,GAabrB,EAAQS,KAAK,cAGpBC,OAAM,SAAAC,GAXXY,IAA0B,GAapBnC,QAAQC,IAAIsB,YAoJd,cAAC,EAAD,CAAgBuB,KAAK,QACnB1C,UAAWhG,EACXS,cAxLR,WACE8G,GAA0B,IAwLpB3G,WApLR,WACE6G,GAAuB,IAoLjBlH,aAhLR,WACEoH,GAAyB,IAgLnBtH,eAxIR,SAA0BvB,GACxBmJ,GAAgBnJ,IAwIVoB,MAAOA,GACPlB,WAvFR,SAAwBF,GACtB,IAAM+J,EAAU/J,EAAKU,MAAMC,MAAK,SAAAqJ,GAAC,OAAIA,EAAExJ,MAAQJ,EAAYI,OAC3DoC,EAAIqH,YAAYF,EAAS/J,EAAKsB,IAC7BgC,MAAK,SAAC4G,GACLA,EAAQ1I,IAAMxB,EAAKsB,GACnB4I,EAAQ5I,GAAKtB,EAAKsB,GAClBmI,IAAS,SAACU,GACR,OAAOA,EAAM9I,KAAI,SAAA+I,GAAC,OAAIA,EAAE9I,KAAOtB,EAAKsB,GAAK4I,EAAUE,WAGtDhC,OAAM,SAAAC,GAAG,OAAIvB,QAAQC,IAAIsB,OA8EpBlI,aA3ER,SAA0BH,GACxB4C,EAAIyH,WAAWrK,EAAKsB,IACnBgC,MAAK,SAACE,GACLiG,IAAS,SAACU,GACR,OAAOA,EAAMG,QAAO,SAAAC,GAAC,OAAIA,EAAEjJ,KAAOtB,EAAKsB,IAAMkC,WAGhD4E,OAAM,SAAApE,GAAG,OAAI8C,QAAQC,IAAI/C,OAqEpBmD,SAAUI,IAEV,cAAC,IAAD,CAAOiD,OAAK,EAACZ,KAAK,IAAlB,SACGrC,EAAa,cAAC,IAAD,CAAUH,GAAG,UAAa,cAAC,IAAD,CAAUA,GAAG,gBAGzD,cAAC,EAAD,IACA,cAAC,EAAD,CAAiBhF,OAAQwG,EAAuBtG,QAAS8G,GAAgBvD,eAhE/E,SAA4B4E,GAC1B7H,EAAI8H,WAAWD,GACdnH,MAAK,SAACE,GACL8E,EAAe9E,GAChB4F,QAEAhB,OAAM,SAAApE,GAAG,OAAI8C,QAAQC,IAAI/C,SA2DtB,cAAC,EAAD,CAAkB5B,OAAQoG,EAAwBlG,QAAS8G,GAAgB/D,aA1EjF,SAA0BoF,GACxB7H,EAAI+H,gBAAgBF,GACnBnH,MAAK,SAACE,GACN8E,EAAe9E,GACf4F,QAEAhB,OAAM,SAAApE,GAAG,OAAI8C,QAAQC,IAAI/C,SAqEtB,cAAC,EAAD,CAAe5B,OAAQsG,EAAqBpG,QAAS8G,GAAgBtH,WAzD3E,SAA8B0B,GAC5BZ,EAAIgI,YAAYpH,GACfF,MAAK,SAAC4G,GACLA,EAAQ1I,IAAM0I,EAAQ1J,IACtB0J,EAAQ5I,GAAK4I,EAAQ1J,IACrBiJ,GAAS,CAACS,GAAF,mBAAc9I,MACtBgI,QAEDhB,OAAM,SAAApE,GAAG,OAAI8C,QAAQC,IAAI/C,SAkDtB,cAAC,EAAD,CAAehD,KAAM,gBAAiBuB,MAAO,iEAAqBG,WAAY,iBAC9E,cAAC,EAAD,yBAAY1C,KAAMkJ,IAAkBA,IAApC,IAAkD5G,QAAS8G,MAC3D,cAAC,EAAD,CAAa7G,MAAM,wKAAiCxB,KC9Q7C,6kDD8Q4DC,KAAK,eAAeoB,OAAQ0G,EAAuBxG,QAAS8G,KAC/H,cAAC,EAAD,CAAa7G,MAAM,sMAA2CxB,KE/QvD,irDF+QuEC,KAAK,eAAeoB,OAAQ4G,GAAwB1G,QAAS8G,UG/QnJ,IAYeyB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBzH,MAAK,YAAkD,IAA/C0H,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAACjE,EAAD,QAGLgC,SAASkC,eAAe,SAMzBX,M","file":"static/js/main.3ca51a64.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.bbe2a6ea.svg\";","import logoVector from '../images/logo/Vector.svg';\r\n// import { Link, NavLink, useHistory, } from 'react-router-dom';\r\n\r\n\r\nfunction Header(props) {\r\n\r\n    // const history = useHistory()\r\n\r\n    // const liginOut = () => {\r\n    //     localStorage.removeItem('jwt');\r\n    //     history.push('/login')\r\n    // }\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"logo\" src={logoVector} alt=\"Логотип сайта\" />\r\n            <div className=\"header__container\">\r\n                {/* <nav className=\"header__links\"> */}\r\n                {props.exit}\r\n                {props.email}\r\n                {props.entrance}\r\n                {props.register}\r\n                        {/* <Link to=\"/register\" className=\"header__link\">Регистрация</Link>\r\n                        <Link to=\"/login\" className=\"header__link\" >Войти</Link>\r\n                        <Link onClick={liginOut} to=\"/login\" className=\"header__link\" >Выйти</Link> */}\r\n                   \r\n                {/* </nav> */}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n    export default Header\r\n","export default __webpack_public_path__ + \"static/media/pen.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/plus.bed8c136.svg\";","import React from \"react\";\r\n\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n    function Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n\r\n        const currentUser = React.useContext(CurrentUserContext)\r\n        const isOwn = card.owner._id === currentUser._id;\r\n        const cardDeleteButtonClassName = (isOwn ? 'buton-delete' : 'button-delete_hidden')\r\n        const isLiked = card.likes.some(item => item._id === currentUser._id)\r\n        const cardLikeButtonClassName = (isLiked ? 'element__like_active' : 'element__like')\r\n\r\n\r\n        function handleLikeClick() {\r\n            onCardLike(card)\r\n        }\r\n\r\n\r\n    function handleCardClick() {\r\n        onCardClick(card);\r\n      } \r\n\r\n      function handleDeleteClick() {\r\n        onCardDelete(card)\r\n      }\r\n\r\n    return (\r\n            <article className=\"element\">\r\n                <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}>\r\n                    <div className=\"buton-delete__image\"></div>\r\n                </button>\r\n                <img className=\"element__photo\" src={card.link} alt={card.name} onClick={handleCardClick} />\r\n                <div className=\"element__info\">\r\n                    <h2 className=\"element__title\">{card.name}</h2>\r\n                    <div className=\"element__like-info\">\r\n                        <button className=\"element__button\" type=\"button\" onClick={handleLikeClick}>\r\n                            <div className={cardLikeButtonClassName}></div>\r\n                            <p className=\"element__counter\">{card.likes.length}</p>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </article>\r\n    )\r\n}\r\n\r\nexport default Card","import React from 'react';\r\nimport pictureProfileEdit from '../images/logo/pen.svg';\r\nimport pictureAddCard from '../images/logo/plus.svg';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const cards = props.cards\r\n  const arrCards = cards.map((card) => {\r\n    return (\r\n    <Card key={card.key} id={card.id} card={card} onCardClick={props.onSelectedCard} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\r\n    )\r\n  })\r\n \r\n    return (\r\n        <main>\r\n        <div className=\"profile\">\r\n              <button className=\"button-avatar\" type=\"button\" onClick={props.onEditAvatar}>\r\n                < img className=\"profile__avatar\" src={currentUser.avatar}  alt=\"аватар пользователя\" />\r\n              </button>\r\n            <div className=\"profile__info\">\r\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n              <button className=\"button-edit\" type=\"button\" onClick={props.onEditProfile}>\r\n                <img className=\"profile__edit\" src={pictureProfileEdit}  alt=\"Редактировать профиль\" />\r\n              </button>\r\n              <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n            </div>\r\n            <button className=\"button-plus\" type=\"button\" onClick={props.onAddPlace}>\r\n              <img className=\"profile__plus\" src={pictureAddCard} alt=\"Добавить карточку\" />\r\n            </button>\r\n        </div>\r\n        <div className=\"elements\">\r\n        {arrCards}\r\n        </div>\r\n      </main>\r\n    )\r\n}\r\n\r\nexport default Main","\r\n\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">© {new Date().getFullYear()} Mesto Russia</p>\r\n      </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","export default __webpack_public_path__ + \"static/media/close.dac22d3e.svg\";","import logoClose from '../images/logo/close.svg';\r\n\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <div className={props.isOpen ? `popup popup__open popup_${props.name}` : 'popup'}>\r\n      <div className=\"popup__container\">\r\n        <button className=\"button-close\" type=\"button\"><img className=\"popup__close\" src={logoClose} alt=\"Кнопка закрытия\" onClick={props.onClose} /></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form onSubmit={props.onSubmit} className=\"form\" name={`${props.name}`}>\r\n          {props.children}\r\n          <button className=\"form__button\" type=\"submit\">{props.buttonText}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import logoClose from '../images/logo/close.svg';\r\n\r\nfunction ImagePopup({card, link, name, onClose}) {\r\n  \r\n    return (\r\n        <div className={card ? 'popup__open popup_image popup' : 'popup'}>\r\n      <div className=\"show-image\">\r\n        <button className=\"button-close button-close_image\" type=\"button\" onClick={onClose}><img className=\"popup__close\" src={logoClose}\r\n            alt=\"Кнопка закрыти\" /></button>\r\n        <img className=\"show-image__image\" src={link} alt={name} />\r\n        <h2 className=\"show-image__title\">{name}</h2>\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","\n\nclass Api {\n    constructor({baseUrl, authorization, userId}) {\n        this._url = baseUrl;\n        this._token = authorization;\n        this._userId = userId;\n    }\n\n\n\n    getInfoAboutUser() {\n        return fetch(`${this._url}/v1/${this._userId}/users/me`, {\n            headers: {\n                authorization: this._token\n                }\n        })\n        .then(this._checkResponse)\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}/v1/${this._userId}/cards`, {\n            headers: {\n                authorization: this._token\n                }\n            })\n            .then(this._checkResponse)\n    }\n\n    editUserProfile(data) {\n        return fetch(`${this._url}/v1/${this._userId}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: data.firstname,\n                about: data.profession\n            })\n        })\n        .then(this._checkResponse)\n\n    }\n\n    sentNewCard(data) {\n        return fetch(`${this._url}/v1/${this._userId}/cards`, {\n            method: 'POST',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n        .then(this._checkResponse)\n    }\n\n    editAvatar(data) {\n        return fetch(`${this._url}/v1/${this._userId}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        })\n        .then(this._checkResponse)\n    }\n\n    updateLikes(liked, id) {\n        return fetch(`${this._url}/v1/${this._userId}/cards/likes/${id}`, {\n            method: liked ? 'DELETE' : 'PUT',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                _id: id\n            })\n        })\n        .then(this._checkResponse)\n    }\n\n    deleteCard(data) {\n      return fetch(`${this._url}/v1/${this._userId}/cards/${data}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this._token\n        }\n      })\n      .then(this._checkResponse)\n    }\n\n    _checkResponse(res) {\n        return res.ok? res.json() : Promise.reject(`Ошибка: ${res}`)\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://api.mesto-vladimir.nomoredomains.rocks',\n    authorization: 'b6b35178-16fa-4e7f-8f36-adf75a68e4d9',\n    userId: 'cohort-26'\n  })\n\nexport default api","\r\n\r\n\r\nfunction ControlledInputForForm(props) {\r\n\r\n    return (\r\n        <>\r\n        <input value={props.value} onChange={props.onHandleChange} id={`${props.name}-input`} className={`form__input form__input_place ${props.className}`} type={`${props.type}`} name={`${props.name}`} placeholder={`${props.placeholder}`} minLength={`${props.minLength}`} maxLength={`${props.maxLength}`} required />\r\n        <span className={`form__input-error ${props.name}-input-error`}></span>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ControlledInputForForm","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ControlledInputForForm from './ControlledInputForForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n\r\n\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext)\r\n    const [name, setName] = React.useState('')\r\n    const [description, setDescription] = React.useState('')    \r\n\r\n    React.useEffect(() => {\r\n      setName(currentUser.name)\r\n      setDescription(currentUser.about)\r\n    }, [currentUser, props.isOpen])\r\n  \r\n    function handleChangeName(e) {\r\n            setName(e.target.value)\r\n      }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value)\r\n      }\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            firstname: name,\r\n            profession: description\r\n        });\r\n      }\r\n\r\n    return(\r\n        <PopupWithForm name={'popup_profile'} title={'Редактировать профиль'} buttonText={'Сохранить'} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n          <ControlledInputForForm value={name} onHandleChange={handleChangeName} type=\"text\" name=\"firstname\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required />\r\n          <ControlledInputForForm value={description} onHandleChange={handleChangeDescription} type=\"text\" name=\"profession\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import { forwardRef } from \"react\"\r\n\r\n\r\n    const UncontrolledInputForForm = forwardRef ((props, ref) => {\r\n    \r\n        return (\r\n            <>\r\n            <input ref={ref} id={`${props.name}-input`} className=\"form__input form__input_place\" type={`${props.type}`} name={`${props.name}`} placeholder={`${props.placeholder}`} minLength={`${props.minLength}`} maxLength={`${props.maxLength}`} required />\r\n            <span className={`form__input-error ${props.name}-input-error`}></span>\r\n            </>\r\n        )\r\n    }\r\n    )\r\n\r\n    export default UncontrolledInputForForm","import PopupWithForm from './PopupWithForm';\r\nimport UncontrolledInputForForm from './UncontrolledInputForForm';\r\nimport React from 'react';\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef(null)\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n          avatar: avatarRef.current.value\r\n        })\r\n        avatarRef.current.value = ''\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name={'popup_refresh-avatar'} title={'Обновить аватар'} buttonText={'Сохранить'} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <UncontrolledInputForForm ref={avatarRef} type=\"url\" name=\"avatar\" placeholder=\"Ссылка на картинку\" minLength=\"2\" maxLength=\"200\" hidden={true} required />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import PopupWithForm from './PopupWithForm';\r\nimport ControlledInputForForm from './ControlledInputForForm';\r\nimport React from 'react';\r\n\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [place, setPlace] = React.useState('');\r\n    const [address, setAddress] = React.useState('')\r\n\r\n    React.useEffect(() => {\r\n        setPlace('');\r\n        setAddress('');\r\n    }, [props.isOpen])\r\n\r\n    function handleChangePlace(e) {\r\n        setPlace(e.target.value)\r\n    }\r\n\r\n    function handleChangeAddress(e) {\r\n        setAddress(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        props.onAddPlace({\r\n         name: place,\r\n         link: address\r\n        })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name={'popup_card'} title={'Новое место'} buttonText={'Создать'} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n        <ControlledInputForForm value={place} onHandleChange={handleChangePlace} type=\"text\" name=\"name\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required />\r\n        <ControlledInputForForm value={address} onHandleChange={handleChangeAddress} type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" required />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","import ControlledInputForForm from \"./ControlledInputForForm\"\r\nimport { useState } from \"react\"\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const onHandleChangeInputEmail = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    const onHandleChangeInputPassword = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onLogin(email, password)\r\n                setEmail('')\r\n                setPassword('')\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-signup\">\r\n            <div className=\"login-signup__conatainer\">\r\n                <h2 className=\"login-signup__title\">Вход</h2>\r\n                <form className=\"form form_registr\" onSubmit={handleSubmit}>\r\n                    <ControlledInputForForm value={email} onHandleChange={onHandleChangeInputEmail} className=\"form__input_type_registr\" name=\"email\" type=\"text\" placeholder=\"Email\" />\r\n                    <ControlledInputForForm value={password} onHandleChange={onHandleChangeInputPassword} className=\"form__input_type_registr\" name=\"password\" type=\"password\" placeholder=\"Пароль\" />\r\n                    <button className=\"form__button form__button_register\" type=\"submit\" >Войти</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import ControlledInputForForm from \"./ControlledInputForForm\"\r\nimport { useState } from \"react\"\r\n\r\n\r\nconst Register = (props) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const onHandleChangeInputEmail = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    const onHandleChangeInputPassword = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        props.onRegister(email, password)\r\n                setEmail('');\r\n                setPassword('');\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-signup\">\r\n            <div className=\"login-signup__conatainer\">\r\n                <h2 className=\"login-signup__title\">Регистрация</h2>\r\n                <form className=\"form form_registr\" onSubmit={handleSubmit}>\r\n                    <ControlledInputForForm value={email} onHandleChange={onHandleChangeInputEmail} className=\"form__input_type_registr\" name=\"email\" type=\"text\" placeholder=\"Email\" />\r\n                    <ControlledInputForForm value={password} onHandleChange={onHandleChangeInputPassword} className=\"form__input_type_registr\" name=\"password\" type=\"password\" placeholder=\"Пароль\" />\r\n                    <button type=\"submit\" className=\"form__button form__button_register\"> Регистрация</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register","\r\nconst BaseUrl = 'api.mesto-vladimir.nomoredomains.rocks'\r\n\r\n   export const register = (email, password) => {\r\n        return fetch(`${BaseUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\" \r\n            },\r\n            body: JSON.stringify({email, password})\r\n        })\r\n        .then(checkResponse)\r\n    }\r\n\r\n    export const login = (email, password) => {\r\n        return fetch(`${BaseUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\" \r\n            },\r\n            body: JSON.stringify({email, password})\r\n        })\r\n        .then(checkResponse)\r\n        .then(data => {\r\n            return data\r\n        })\r\n    }\r\n\r\n    export const getDataUser = (token) => {\r\n        return fetch(`${BaseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\" : `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(checkResponse)\r\n    }\r\n\r\n    const checkResponse = (res) => {\r\n        return res.ok? res.json() : Promise.reject(console.log(res))\r\n    }","import { Redirect, Route } from \"react-router\"\r\n\r\n\r\n\r\nexport const ProtectedRoute = ({component: Component, ...props}) => {\r\n\r\n            return(\r\n                <Route>\r\n                    {() => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\r\n                </Route>\r\n            )\r\n        }","import logoClose from '../images/logo/close.svg';\r\n\r\n\r\n  const InfoTooltip = (props) => {\r\n\r\n            return (\r\n                <div className={props.isOpen ? `popup popup__open popup_${props.name}` : 'popup'}> \r\n                    <div className=\"popup__container\">\r\n                        <button className=\"button-close\" type=\"button\"><img className=\"popup__close\" src={logoClose} alt=\"Кнопка закрытия\" onClick={props.onClose} /></button>\r\n                        <img className=\"info-tooltip__image\" src={props.link} alt=\"Результата регистрации\" />\r\n                        <h2 className=\"popup__title popup__title_type_info-tooltip\">{props.title}</h2>\r\n                    </div>\r\n                </div>\r\n            )\r\n}  \r\n\r\nexport default InfoTooltip","/* eslint-disable react-hooks/exhaustive-deps */\nimport Header from './Header'\nimport { Redirect, Route, Switch, useHistory, Link } from 'react-router-dom';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport React, { useEffect } from 'react';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport EditProfilePopup  from './EditProfilePopup';\nimport EditAvatarPopup  from './EditAvatarPopup';\nimport AddPlacePopup  from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport * as apiAuth from '../utils/apiAuth';\nimport { ProtectedRoute } from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport disaster from '../images/disaster.png';\nimport success from '../images/success.png'\n\n\n\n export function App() {\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false)\n  const handleIsLoggedIn = () => {\n    setIsLoggedIn(true)\n  }\n  \n  const history = useHistory()\n\n  const [dataUserForHomePage, setDataUserForHomePage] = React.useState({id:'', email:''})\n\n  const tokenCheck = () => {\n    if (localStorage.getItem('jwt')) {\n      const token = localStorage.getItem('jwt')\n      apiAuth.getDataUser(token)\n      .then(res => {\n        if (res) {\n          handleIsLoggedIn(true)\n          setDataUserForHomePage({\n            id: res.data._id,\n            email: res.data.email\n          })\n          history.push('/main')\n        }\n      })\n      .catch(err => console.log(err))\n    }\n  }\n\n  React.useEffect(() => {\n    tokenCheck()\n  }, [isLoggedIn])\n\n  const [currentUser, setCurrentUser] = React.useState({name: \"\", about: \"\"})\n\n  React.useEffect(() => {\n    api.getInfoAboutUser()\n    .then((data) => {\n      setCurrentUser(data)\n    })\n    .catch(res => console.log(res))\n  }, [])\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const [isSuccessInfoRegister, setIsSuccessInfoRegister] = React.useState(false)\n  function handleSuccessInfoRegister() {\n    setIsSuccessInfoRegister(true)\n  }\n\n  const [isDisasterInfoRegister, setIsDisasterInfoRegister] = React.useState(false)\n  function handleDisasterInfoRegister() {\n    setIsDisasterInfoRegister(true)\n  }\n\n  function handleRegister(email, password) {\n        apiAuth.register(email, password)\n        .then(res => {\n            if (res) {\n              handleSuccessInfoRegister(true);\n                history.push('/login');\n            } \n        })\n        .catch(err => {\n          handleDisasterInfoRegister(true)\n          console.log(err)\n        })\n  }\n\n  function handleLogin(email, password) {\n    apiAuth.login(email, password)\n    .then((res) => {\n        if (res) {\n            localStorage.setItem('jwt', res.token);\n            handleIsLoggedIn(true)\n            history.push('/main')\n        }\n    })\n    .catch(err => console.log(err))\n  }\n\n  const [selectedCard, setSelectedCard] = React.useState(null)\n  function handleCardClick (card) {\n    setSelectedCard(card)\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setSelectedCard(null)\n    setIsSuccessInfoRegister(false)\n    setIsDisasterInfoRegister(false)\n  }\n\n  useEffect(() => {\n    const closeOnEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups()\n      }\n    }\n    document.addEventListener('keydown', closeOnEscape);\n      \n    return () => {\n      document.removeEventListener('keydown', closeOnEscape)\n    }\n      \n    \n  }, [])\n\n  const [cards, setCards] = React.useState([])\n\n\n  React.useEffect(() => {\n    api.getInitialCards()\n    .then((data) => {\n      const arrCards = data.map((card) => {\n        return {\n          key: card._id,\n          id: card._id,\n          name: card.name,\n          link: card.link,\n          length: card.likes.length,\n          owner: card.owner,\n          likes: card.likes\n        }\n      })\n      setCards(arrCards)\n    })\n    .catch(err => console.log(err))\n  }, [])\n\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.updateLikes(isLiked, card.id)\n    .then((newCard) => {\n      newCard.key = card.id\n      newCard.id = card.id\n      setCards((state) => {\n        return state.map(c => c.id === card.id ? newCard : c)\n      })\n    })\n    .catch(err => console.log(err))\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card.id)\n    .then((data) => {\n      setCards((state) => {\n        return state.filter(j => j.id !== card.id && data)\n      })\n    })\n    .catch(res => console.log(res))\n  }\n  \n  function handleUpdateUser(dataPopup) {\n    api.editUserProfile(dataPopup)\n    .then((data) => {\n     setCurrentUser(data)\n     closeAllPopups()\n    })\n    .catch(res => console.log(res))\n  }\n\n  function handleUpdateAvatar(dataPopup) {\n    api.editAvatar(dataPopup)\n    .then((data) => {\n      setCurrentUser(data)\n     closeAllPopups()\n    })\n    .catch(res => console.log(res))\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.sentNewCard(data)\n    .then((newCard) => {\n      newCard.key = newCard._id\n      newCard.id = newCard._id\n      setCards([newCard, ...cards])\n      closeAllPopups()\n    })\n    .catch(res => console.log(res))\n  }\n\n  const liginOut = () => {\n    localStorage.removeItem('jwt');\n    setIsLoggedIn(false)\n    history.push('/login')\n}\n\n\n    return (\n      <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n          {/* Честно говоря не сообразил как с Main это реализовать */}\n        <Switch>\n          <Route path=\"/main\">\n            <Header\n              email={<p className=\"header__link\">{dataUserForHomePage.email}</p>}\n              exit={<Link onClick={liginOut} to=\"/login\" className=\"header__link\" >Выйти</Link>}\n            />\n          </Route>\n        </Switch> \n        <Switch>\n        <Route path=\"/login\">\n          <Header register={<Link to=\"/register\" className=\"header__link\">Регистрация</Link>}/>\n          <Login onLogin={handleLogin} loggedIn={isLoggedIn} />\n        </Route>  \n        <Route path=\"/register\">\n          <Header entrance={<Link to=\"/login\" className=\"header__link\" >Войти</Link>}/>\n            <Register loggedIn={isLoggedIn} onRegister={handleRegister} />\n          </Route>  \n        <ProtectedRoute path=\"/main\"\n          component={Main}\n          onEditProfile={handleEditProfileClick} \n          onAddPlace={handleAddPlaceClick} \n          onEditAvatar={handleEditAvatarClick} \n          onSelectedCard={handleCardClick} \n          cards={cards} \n          onCardLike={handleCardLike} \n          onCardDelete={handleCardDelete}\n          loggedIn={isLoggedIn}\n          />  \n          <Route exact path=\"/\">\n            {isLoggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/login\" />}\n          </Route>\n          </Switch>\n        <Footer />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n        <PopupWithForm name={'popup_confirm'} title={'Вы уверены&quest;'} buttonText={'Да'} />\n        <ImagePopup card={selectedCard} {...selectedCard} onClose={closeAllPopups} />\n        <InfoTooltip title=\"Вы успешно зарегистрировались!\" link={success} name=\"info-tooltip\" isOpen={isSuccessInfoRegister} onClose={closeAllPopups} />\n        <InfoTooltip title=\"Что-то пошло не так! Попробуйте ещё раз.\" link={disaster} name=\"info-tooltip\" isOpen={isDisasterInfoRegister} onClose={closeAllPopups} />\n        </CurrentUserContext.Provider>\n      </div>\n    )\n  }\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAANlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3dmhyAAAAEXRSTlMAIN/vX38Qv2+fMEDPj68/UF0OouAAAAQPSURBVGje1ZvZmqowEITT2RMCjO//sscYZ2pGxex8nroV+O1K01lh1dKLXJ3hXFyieDCbsotmc7XYjV9eim92YXOkrRGXtxKbpAnUn8cHp+ROlNwlv0u14S+ZoezFibuh7ui5XrrvRnDLKKy5B2MzwZC8XxnkCCy/U4sSl2RI1sgh0Yp1Z8XyLqF7DKeEVbrytvXmkqNWrhXAVqJV+scd4TrdaJa7+U2N4Ya9o514DNrWFow1/mHFunTze2U1ohB98qxTxCvt9vGGVbNu6bWK/BWb17IhsrGhv1iRZLzWD4DCPVnKhTv9IpAbuPPJX+COJWfamQS4Y8nCZ65o5nY9dwIXTobjwhBfd8+myL+rnnZE3ah6OOxY2XjBTkGHDazZNOnr881RJ0ZsojzMfjRasalSL812V6PZZIUXZi9zjQZkec4sx6bLPYUsEfBMafEYMkdmTZV6yCSZqdHTQg6ZmjU0ZNOd0v0huxNSGiUbLEJvOFFwV2ikVmCnyaBim/wgcGzHbOA0sdOkrzj97bRh5wleb0Od9qrYazHSaS9ytTc2rUj5PbAjlqJgPs9TDbEDq4e83KSynaNFE4/jgnx82ZYC96M6gB/ZTCPz22slxnIzyycpnXXMLTOcS9lB3xJzazuNi+yS8QZ1GhcXr0jqM7hIaxcr597NdVXclFcBb9MIbgA38z7x7kqtf3M1KwVfry56+vEvoZKbakchmILMcGsWtyO0EMyPBt70m8vYaLA6ylfiGW4fWKL0H3MVqwKngv1eeLyjTi7AJa+Teep2Orl4j/MBg9DDxTJMKCmZ5EBAbfJNXJTM2EWV7AVBXN64oomLsc+K+4rtXvUfrmzoy1Sku8LpJcRtDzd2xTb6Hcr84ZdXEvXclFflgz0yr7i+nptqR02/qMZwfYoVY5/KHEM9aUjq2ikMuT9cah2w2PpJmxXtXPSxe8M0lXgzF9NUzNBrpMBtbWLM0Kv0xRu5WOvBakiVyIQmLtZ64HWldBMUaz3w+jSF5DQWNk+ST04nuTNWjcFyTwubU4XU2v9kuGKnaEUvfFLIKHvyEzZDzgqZnkdK5qwNL57ZfYOmpTRCDmyasI/4Odu4zM7ei6GjOYeZv1XPP+twwgnHMT7tAArT4dmOgYd9PvGQEfPzjlXRZx4kezg6918f2gO3iDzueKSI3M8+EMoYjT0C61tO6/afQq2cZY055txinBWdQS+h4WA3Zv6OenZIDLVZJW5+UwNWCYTbfgJ/pWoswm3Uzi9Rzle07ZqwO+uTTOggqeYrIQ5sBzoUflFEiYpou7W7SxJ30h9Afz47Em4QFl8UJQmzKbl4StYSLVK5INJv+EpoKHvLfVoG6mjt7z6m29lc6d2qzQSeguTcuFXu9ZH+A7mhYZNkc9GqAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAS1BMVEUAAAD9Bgb6BQX9Bgb9Bgb5CAj9Bgb9Bgb/CAj/EBD+Bwf9Bwf9Bgb+Bwf9Bwf8Bwf+Bwf+Bgb9Bgb8Bgb9BQX+Bwf9Bwf8Cgr9Bwc3nmaZAAAAGHRSTlMA7zB/oB9fPyAQ399vv4+/z6/PUI+vkFCSTARxAAAEPElEQVRo3tWb4XLbIBCEESAwNsKS06Z+/yetMGl2JrZzYgUZ9/60mZH4fMtxCDhUtQXvkp2Ox+Ga7ThPi4k+qL7m43K8PrTTEr3qYyFOw/VbGxY3dqB+Nn+xxvlxLOqO2juznD9/0tSU7e3wIah91q529l8nWN8K++HsOQrOHNy5PDm7FtjjB1UM3MK+FGlcE2+HVKGetgW9R/BDwZpQ+Vq6qWTpMIsDsJVoU37xDndtIMWyN71H0t3Z7+inrPcQaxPG+3U1o3bZTe9fdb92zjpplginK+XW+YUUGmTaVEX+k7s3qiYWc0e/qU3m8rOCzJXquU1cQR2qox3L7U/+A25b8pvwzABuW/KghSdo7q52O3Ch5Pw8MeQ8qVUX099lz9gib1Q1DjmS6mZpDbDxaQcH1c3C2v70bBKrCCyum+NjoY3qauah2HYVWnW2+YHYvq/QgPj7yLKqu9k7lx0c7mlh+OryEZHV1cyXSHJCju7m8ix8hjZ1eaoN6dDeZbslpM2WD8C3DSkbrEOZDUWNZLKVQ9Sv7QSE1mUDVyAX5WTytGZs/NfJ3EKWuDI5ruEFpUeRK5ILVyaH9ZHwT+mz+MUEssAFWdT6t6y0FsjgAixrPUDpCjLBxSAa8r8e6bOCTHExMfjiuVUEmeDi6YguJsgUt0TzUhzXiiDTXHW4dW4oXU2QSW4J56A8RjFBprhqztEVs+AUmeSWd5wyeIEgU9zMTAhqglzNRVhbNWW9WTLHLXE159FEkq/1XIynIzI1QQa3Gry+pRRB5rkldwBMkEmuylCAebJRLJggA8ssBXiwvcIGTYFzwia5IBNgDCeKC3LXcQwuSUaEXJAyCS5BRsrMUxTLtUM1Gd8+KY9DjmuU5sh5Ks50y3IVR85Tccx6X1guSS5xlRM2yWXJJXdgPBFcjqzXYYwPeoJLkBHUWMIQXIKMJQwWbQSXIGPRhmVqBZcjY5mKFTrBJcjoYqzQae49eRRHscNuiLBvJnFBFjIw9nq2aW2EVkEWuNjr2ai1kVstZLNhqejuNjYlspG+PWWuvimN0Enb5jIlkEUuNmyxsSmSza6dZYSWx58TvOlsCbPwNpcbHiS7VzgM+SmXD/dlCtNPHXidhNM3xipDGi7PqpvhHPF1jnFV7FWZAKGfuDb1P6o/PTl56HrQ956Ffq1yDKVS3wKU9Lwb5js5Whb7vGKRkdKdyqpkJd+6FZK9aulc52JBmdyuPHIQuejnngWhsjq/WpTAvkM9slqXr0Kd65pJrcqcUyAKu3c57efqwm7IzVfgB5vfPnNvm7L8GwmsGeAuX4GfRgILd/fcC7G64pVUsF7tM1fQsxtrbgmdgOXNXTbeKBozFd42MG+vn9eO9BPo57WjwRJY4UZRaXhajPO6eB/G0Ttj59yt0i0hnr1IV8seUP/ny3S4PhjNcr6cipOn09kmR1wf/AsKNqOXPkvprQAAAABJRU5ErkJggg==\"","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n // <React.StrictMode>\n  //   <App />\n  // </React.StrictMode>,"],"sourceRoot":""}